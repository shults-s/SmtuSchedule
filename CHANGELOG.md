# История версий

## Версия 1.1.2 от 16.02.2020
### Исправлено:
- Вылеты приложения при получении от Firebase сообщения, содержащего только данные (data message);
- Вылеты приложения при попытке повторить обучение использованию с отключенной плавающей кнопкой для выбора даты в расписании.

## Версия 1.1.1 от 14.02.2020
### Исправлено:
- Ошибка при создании каналов уведомлений на Android 8.0 и более новых версиях.

## Версия 1.1.0 от 14.02.2020
### Добавлено:
- Настраиваемые push-уведомления;
- Возможность повторить обучение использованию приложения;
- Три канала уведомлений: сообщения о новых версиях, важные сообщения от разработчика, сообщения от администрации университета.

### Изменено:
- Сообщения об ошибках в ходе инициализации и загрузки расписаний сделаны более понятными;
- Локальное хранилище расписаний перемещено в scoped storage для соответствия новым требованиям безопасности Android;
- Время холодного запуска уменьшено в 1.5 раза за счет использования новой библиотеки для локального хранения расписаний.

## Версия 1.0.6 от 16.12.2019
### Добавлено:
- Автоматический переход на загруженное расписание по окончанию его загрузки;
- Индикация процесса загрузки списка преподавателей на экране загрузки расписаний.

### Изменено:
- Алгоритм обхода ошибки при загрузке списка преподавателей через мобильный интернет;
- Алгоритм миграции расписаний для автоматического исправления ошибок в расписаниях, загруженных предыдущей версией приложения.

### Исправлено:
- Некорректная загрузка расписаний (без возможности переходов между ними), если список преподавателей так и не был загружен.

## Версия 1.0.5 от 15.12.2019
### Добавлено:
- Возможность повторить попытку загрузки списка преподавателей при возникновении ошибки прямо через экран загрузки расписаний.

### Исправлено:
- Уменьшена вероятность возникновения ошибки при загрузке списка преподавателей через мобильный интернет.

## Версия 1.0.4 от 14.12.2019
### Изменено:
- В сообщение об ошибке о невозможности загрузить список преподавателей добавлено разъяснение, что делать в этой ситуации.

## Версия 1.0.3 от 12.12.2019
### Исправлено:
- Сбившееся позиционирование сообщения о выходном дне в расписании.

## Версия 1.0.2 от 11.12.2019
### Исправлено:
- Вылеты при попытке загрузки расписаний с отсутствующим разрешением на доступ к памяти смартфона.

## [Версия 1.0.1](https://github.com/shults-s/SmtuSchedule/releases/tag/1.0.1) от 06.12.2019

Приложение теперь доступно в [Google Play Маркет](https://play.google.com/store/apps/details?id=shults.smtuschedule).

### Изменено:
- Дополнен текст обучающего экрана;
- Сообщение диалога «О приложении» в соответствии с политикой конфиденциальности и политикой платежей Google Play Маркет.

## Версия 1.0 от 03.12.2019
### Добавлено:
- Обучение использованию приложения;
- Сортировка списка расписаний в меню выбора расписания;
- Автоматическое удаление устаревших (старше недели) журнальных файлов;
- Возможность вместе с расписанием группы загружать расписания преподавателей, фигурирующих в нем;
- Экран приветствия, показываемый во время запуска приложения (особенно актуально в темное время суток).

### Изменено:
- Расписание теперь не отрендерится, если приложение сконфигурировано неправильно.

### Исправлено:
- Ошибка в распознавании расписаний групп с номерами больше 10000 как расписаний преподавателей.

## [Версия 0.9.1](https://github.com/shults-s/SmtuSchedule/releases/tag/0.9.1) от 12.11.2019
### Изменено:
- Диапазон отображаемых дат теперь автоматически перестраивается при достижении любой из двух границ.

### Исправлено:
- Лаги при перелистывании страниц расписания;
- Критический баг в отображении расписания после переключения темы;
- Вылеты при возвращении приложения из фонового режима после длительного нахождения в нем.

## [Версия 0.9](https://github.com/shults-s/SmtuSchedule/releases/tag/0.9) от 31.10.2019
### Добавлено:
- Темная тема;
- Полноценная поддержка Android 5.0;
- Опциональное отображение времени окончания занятий;
- Диалог с перечислением новых возможностей приложения при первом запуске;
- Отображение типа недели просматриваемой даты по длительному нажатию на плавающую кнопку;
- Отображение диалога действий над расписанием (удаление, повторная загрузка с сайта) по длительному нажатию на его заголовок.

### Изменено:
- Поточные занятия в расписаниях преподавателей теперь группируются;
- Диалог обновления изменен так, чтобы его нельзя было пропустить случайно.

### Исправлено:
- Неверное определение типа недели для воскресений;
- Некорректное отображение длинных имен преподавателей;
- Доработан алгоритм сравнения версий при проверке обновлений приложения;
- Невозможность выбора просматриваемой даты через календарь в Android 5.0;
- Невозможность переключения просматриваемой даты на следующий день, если в этот момент активна крайняя правая вкладка.

## [Версия 0.8.2](https://github.com/shults-s/SmtuSchedule/releases/tag/0.8.2) от 01.09.2019
### Исправлено:
- Ошибка при загрузке списка преподавателей и расписаний из-за использования Cleartext HTTP на Android 6.0 и более новых версиях.

## Версия 0.8.1 от 31.08.2019
### Добавлено:
- Попытка записи файла с отладочной информацией при фатальном сбое;
- Удаление просматриваемого расписания теперь осуществляется нажатием и удержанием пальца на его заголовке.

### Исправлено:
- Утечки памяти при пролистывании расписаний;
- Вылеты приложения на некоторых моделях смартфонов при холодном запуске, либо при возврате из фонового режима.

## [Версия 0.8](https://github.com/shults-s/SmtuSchedule/releases/tag/0.8) от 10.02.2019
### Добавлено:
- Загрузка расписаний с сайта университета;
- Удаление расписаний по одному;
- Переход к расписанию по нажатию на имя преподавателя (группу), или его загрузка, если это не было сделано ранее;
- Сохранение просматриваемой даты при переходах между расписаниями;
- Переход к произвольной дате;
- Подсветка текущей пары;
- Возврат к текущей дате по нажатию кнопки «Назад»;
- Переход между датами перелистыванием влево-вправо или с помощью вкладок;
- Проверка обновлений при запуске приложения.

### Исправлено:
- Вывод предложения об обновлении на ту же версию, которая установлена;
- Неправильная отрисовка дней, в которых на одной неделе занятия есть, а на другой – нет;
- Неправильный парсинг из расписаний преподавателей, у которых отстутствует ссылка на профиль;
- Вылеты приложения из-за отсутствия необходимых runtime-разрешений для доступа к хранилищу на Android 6.0 и более новых версиях.